<p data-ke-size="size16">&nbsp;</p>
<p data-ke-size="size16"></p>
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://unpkg.com/lucide@latest"></script>
<p data-ke-size="size16"></p>
<!-- ìœ„ì ¯ ì‹œì‘ -->
<div id="solo-xmas-widget" class="w-full max-w-lg mx-auto rounded-3xl shadow-2xl p-6 md:p-8 text-center border-4 border-yellow-400/30 relative"><!-- ëˆˆì†¡ì´/íŒŒí‹°í´ ìƒì„± ì˜ì—­ -->
<div id="snow-container">&nbsp;</div>
<!-- [ì¶”ê°€] ê³µìœ  ë²„íŠ¼ (ì¢Œì¸¡ ìƒë‹¨) -->
<div class="absolute top-4 left-4 z-50 cursor-pointer">
<div class="bg-black/40 backdrop-blur-sm p-2 rounded-full shadow-lg flex items-center gap-2 text-xs font-bold text-gray-300 hover:bg-black/60 transition-all border border-gray-500/50"><i data-lucide="share-2"></i> <span>ê³µìœ </span></div>
</div>
<!-- ë°°ê²½ìŒì•… ì»¨íŠ¸ë¡¤ (ìš°ì¸¡ ìƒë‹¨) -->
<div class="absolute top-4 right-4 z-50 cursor-pointer">
<div id="music-btn" class="bg-black/40 backdrop-blur-sm p-2 rounded-full shadow-lg flex items-center gap-2 text-xs font-bold text-gray-300 hover:bg-black/60 transition-all border border-gray-500/50"><i data-lucide="music"></i> <span>BGM ON</span></div>
</div>
<!-- í—¤ë” --> <!-- ë¡œê³  5íšŒ í´ë¦­ ì‹œ ê°•ì œ íƒˆì¶œ ëª¨ë“œ ë°œë™ (ì´ìŠ¤í„°ì—ê·¸) --><header class="relative z-10 mb-8 mt-8 cursor-pointer select-none">
<div class="flex justify-center items-center gap-2 mb-2">&nbsp;</div>
<h1 id="main-title" class="text-3xl md:text-4xl font-jua text-white drop-shadow-lg mb-2">Merry <span class="text-yellow-300">Solo</span> Christmas</h1>
<p id="sub-title" class="text-blue-100 text-sm md:text-base opacity-90" data-ke-size="size16">ì»¤í”Œë“¤ì€ ì¶¥ì§€ë§Œ, ìš°ë¦¬ëŠ” ì§‘ì´ë¼ ë”°ëœ»í•˜ë‹¤.</p>
</header><!-- 1. í¬ë¦¬ìŠ¤ë§ˆìŠ¤ íƒˆì¶œ ì¹´ìš´íŠ¸ë‹¤ìš´ -->
<div id="countdown-box" class="relative z-10 bg-black/30 backdrop-blur-sm rounded-2xl p-6 mb-6 border border-white/20 transition-colors">
<h2 id="countdown-title" class="text-lg font-bold mb-4 flex items-center justify-center gap-2 text-red-300" data-ke-size="size26"><i data-lucide="timer"></i> <span class="font-jua text-xl">í¬ë¦¬ìŠ¤ë§ˆìŠ¤ íƒˆì¶œê¹Œì§€</span></h2>
<div id="countdown" class="text-3xl md:text-5xl font-mono font-bold text-white tracking-widest drop-shadow-md">0ì¼ 00:00:00</div>
<p id="countdown-desc" class="text-xs text-gray-300 mt-2" data-ke-size="size16">12ì›” 26ì¼ì´ ì˜¤ë©´ ìš°ë¦¬ëŠ” ìŠ¹ë¦¬í•œë‹¤.</p>
</div>
<!-- 2. ì†”ë¡œ í™œë™ ëœë¤ ì¶”ì²œê¸° -->
<div class="relative z-10 bg-white/10 backdrop-blur-md rounded-2xl p-6 mb-6 border border-white/20">
<h2 class="text-lg font-bold mb-4 flex items-center justify-center gap-2 text-green-300" data-ke-size="size26"><i data-lucide="gamepad-2"></i> <span class="font-jua text-xl">ì˜¤ëŠ˜ ë­í•˜ì§€? (ëœë¤ ì¶”ì²œ)</span></h2>
<div id="activity-display" class="bg-white/90 rounded-xl p-4 min-h-[120px] flex items-center justify-center mb-4 shadow-inner">
<p id="activity-text" class="font-bold font-jua" data-ke-size="size16">ë²„íŠ¼ì„ ëˆŒëŸ¬ë³´ì„¸ìš”!</p>
</div>
<button class="btn-hover px-6 py-3 bg-red-600 hover:bg-red-500 text-white rounded-full font-bold transition-all shadow-lg flex items-center justify-center gap-2 mx-auto w-full md:w-auto"> <i data-lucide="dices"></i> ìš´ëª…ì— ë§¡ê¸°ê¸° </button></div>
<!-- 3. ì˜¤ëŠ˜ì˜ ëª…ì–¸ -->
<div class="relative z-10 mt-8 mb-6">
<div class="inline-block bg-black/40 px-4 py-2 rounded-full text-sm text-yellow-200 border border-yellow-500/30"><i data-lucide="quote"></i> <span>ì‚°íƒ€í´ë¡œìŠ¤ë„ ì‚¬ì‹¤ ë…ê±°ë…¸ì¸ì´ë‹¤.</span></div>
</div>
<!-- ì œì‘ì ë§í¬ -->
<div class="relative z-10 pt-4 border-t border-white/10"><a class="text-xs text-gray-400 hover:text-white transition-colors flex items-center justify-center gap-1" style="color: #cbd5e1 !important;" href="https://hjkim20089.tistory.com/" target="_blank" rel="noopener"> <i data-lucide="home"></i> Made by HJKIM </a></div>
</div>
<script>
        let isEscaped = false; // íƒˆì¶œ ìƒíƒœ í”Œë˜ê·¸
        let eggCount = 0; // ì´ìŠ¤í„°ì—ê·¸ ì¹´ìš´íŠ¸

        // 1. ëˆˆ ë‚´ë¦¬ëŠ” íš¨ê³¼ (ê¸°ë³¸) -> íŒŒí‹°í´ íš¨ê³¼ (íƒˆì¶œ ì‹œ)
        function createParticles() {
            const container = document.getElementById('snow-container');
            container.innerHTML = ''; // ì´ˆê¸°í™”
            const count = 30;
            
            for (let i = 0; i < count; i++) {
                const p = document.createElement('div');
                
                if (isEscaped) {
                    // íƒˆì¶œ ì„±ê³µ ì‹œ: í™”ë ¤í•œ íŒŒí‹°í´ (ìœ„ë¡œ ì˜¬ë¼ê°)
                    p.classList.add('confetti-particle');
                    p.style.backgroundColor = ['#FFD700', '#FFF', '#00BFFF', '#FF69B4'][Math.floor(Math.random() * 4)];
                    p.style.bottom = '-10px';
                    p.style.animationName = 'rise';
                } else {
                    // ê¸°ë³¸: ëˆˆì†¡ì´ (ì•„ë˜ë¡œ ë–¨ì–´ì§)
                    p.classList.add('snowflake');
                    p.innerHTML = 'â„';
                    p.style.top = '-10px';
                    p.style.animationName = 'fall, shake-snow';
                }

                p.style.left = Math.random() * 100 + '%';
                p.style.animationDuration = (Math.random() * 3 + 2) + 's'; // ì†ë„ ëœë¤
                p.style.fontSize = isEscaped ? '10px' : (Math.random() * 10 + 10) + 'px';
                
                container.appendChild(p);
            }
        }

        // 2. ì¹´ìš´íŠ¸ë‹¤ìš´ ë¡œì§
        function updateCountdown() {
            if (isEscaped) return; // ì´ë¯¸ íƒˆì¶œí–ˆìœ¼ë©´ ì—…ë°ì´íŠ¸ ì¤‘ì§€

            const now = new Date();
            const currentYear = now.getFullYear();
            
            // ëª©í‘œ: ì˜¬í•´ 12ì›” 26ì¼ 00:00:00
            // í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´ ë‚ ì§œë¥¼ ë³€ê²½í•˜ë ¤ë©´ ì—¬ê¸°ë¥¼ ìˆ˜ì •í•˜ì„¸ìš”.
            let target = new Date(currentYear, 11, 26, 0, 0, 0); 

            // í˜„ì¬ ì‹œê°„ì´ 12ì›” 26ì¼ì„ ì§€ë‚¬ë‹¤ë©´? (íƒˆì¶œ ì„±ê³µ!)
            // ë¡œì§ìƒ 12/26 00:00:00 ~ 12/31 ì‚¬ì´ë¼ë©´ íƒˆì¶œ ì„±ê³µ ìƒíƒœë¡œ ê°„ì£¼
            // ê·¸ ì™¸ì—ëŠ” ë‚´ë…„ í¬ë¦¬ìŠ¤ë§ˆìŠ¤ë¥¼ ê¸°ë‹¤ë¦¼
            if (now >= target && now.getMonth() === 11 && now.getDate() >= 26) {
                celebrateEscape();
                return;
            } else if (now > target) {
                target = new Date(currentYear + 1, 11, 26, 0, 0, 0);
            }

            const diff = target - now;
            const days = Math.floor(diff / (1000 * 60 * 60 * 24));
            const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((diff % (1000 * 60)) / 1000);

            const h = hours < 10 ? "0" + hours : hours;
            const m = minutes < 10 ? "0" + minutes : minutes;
            const s = seconds < 10 ? "0" + seconds : seconds;

            document.getElementById('countdown').innerText = `${days}ì¼ ${h}:${m}:${s}`;
        }

        // [í•µì‹¬] íƒˆì¶œ ì„±ê³µ ëª¨ë“œ ì „í™˜ í•¨ìˆ˜
        function celebrateEscape() {
            if (isEscaped) return;
            isEscaped = true;

            // 1. í™”ë©´ ìŠ¤íƒ€ì¼ ë³€ê²½
            const widget = document.getElementById('solo-xmas-widget');
            widget.classList.add('escaped');

            // 2. í…ìŠ¤íŠ¸ ë³€ê²½
            document.getElementById('main-title').innerHTML = `ğŸ‰ SOLO <span class="text-white drop-shadow-md">VICTORY!</span>`;
            document.getElementById('sub-title').innerText = "ìš°ë¦¬ëŠ” ì‚´ì•„ë‚¨ì•˜ë‹¤! ììœ ë¥¼ ë§Œë½í•˜ë¼!";
            
            document.getElementById('countdown-title').innerHTML = `<i data-lucide="trophy" class="w-5 h-5 text-yellow-400"></i><span class="font-jua text-xl text-yellow-300">ë¯¸ì…˜ í´ë¦¬ì–´</span>`;
            document.getElementById('countdown').innerText = "MISSION COMPLETE";
            document.getElementById('countdown').classList.add('text-yellow-200');
            document.getElementById('countdown-desc').innerText = "ì»¤í”Œë“¤ì˜ ì¶•ì œëŠ” ëë‚¬ë‹¤. ì´ì œ ìš°ë¦¬ì˜ ì„¸ìƒì´ë‹¤.";

            // 3. ì•„ì´ì½˜ ë³€ê²½
            document.getElementById('header-icon-1').setAttribute('data-lucide', 'crown');
            document.getElementById('header-icon-2').setAttribute('data-lucide', 'thumbs-up');
            lucide.createIcons();

            // 4. íŒŒí‹°í´(ëˆˆì†¡ì´) ë³€ê²½
            createParticles();

            // 5. ìŒì•… ë³€ê²½ (ë§Œì•½ ì¬ìƒ ì¤‘ì´ë¼ë©´ ì¦‰ì‹œ ë³€ê²½)
            if (isPlaying) {
                toggleMusic(); // ë„ê³ 
                setTimeout(toggleMusic, 100); // ë‹¤ì‹œ ì¼œì„œ ìƒˆ ìŒì•… ì¬ìƒ
            } else {
                // ìŒì•…ì´ êº¼ì ¸ìˆë‹¤ë©´ ë²„íŠ¼ í…ìŠ¤íŠ¸ë§Œ ì—…ë°ì´íŠ¸
                const btnText = document.getElementById('music-text');
                btnText.textContent = "Victory BGM";
            }
        }

        // ì´ìŠ¤í„°ì—ê·¸ (ì œëª© 5ë²ˆ í´ë¦­ ì‹œ ê°•ì œ íƒˆì¶œ)
        function triggerEasterEgg() {
            if (isEscaped) return;
            eggCount++;
            if (eggCount >= 5) {
                celebrateEscape();
                alert("ğŸ› ï¸ ê°œë°œì ì¹˜íŠ¸í‚¤ ë°œë™! íƒˆì¶œ ì„±ê³µ!");
            }
        }

        function shareLink() {
            const dummy = document.createElement("textarea");
            document.body.appendChild(dummy);
            dummy.value = window.location.href;
            dummy.select();
            document.execCommand("copy");
            document.body.removeChild(dummy);
            alert("ë§í¬ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤! ì†”ë¡œ ì¹œêµ¬ë“¤ì—ê²Œ ì „íŒŒí•˜ì„¸ìš” ğŸ„");
        }

        // 3. ë°ì´í„° (í™œë™ 50ê°œ ì´ìƒ, ëª…ì–¸ 50ê°œ ì´ìƒ)
        const activities = [
            "ğŸ• ì¹˜í‚¨+í”¼ì ì‹œí‚¤ê³  'ë‚˜í™€ë¡œ ì§‘ì—' ì •ì£¼í–‰", "ğŸ® ë°€ë¦° ê²Œì„ ì—”ë”© ë³¼ ë•Œê¹Œì§€ ëª» ì ", "ğŸ“š ë§Œí™”ì¹´í˜ ê°€ì„œ ì§œì¥ë¼ë©´ì— ë’¹êµ´ê¸°",
            "ğŸ’¤ 24ì‹œê°„ ë™ë©´ (ì¼ì–´ë‚˜ë©´ 26ì¼ì„)", "ğŸœ ëœ¨ëˆí•œ êµ­ë°¥ í•œ ê·¸ë¦‡ ë•Œë¦¬ê³  ì‚¬ìš°ë‚˜", "ğŸ§¹ ëŒ€ì²­ì†Œí•˜ê³  ìƒˆ ë§ˆìŒìœ¼ë¡œ ìƒˆí•´ ë§ì´í•˜ê¸°",
            "ğŸ° í¸ì˜ì  ì¼€ì´í¬ ì‚¬ì„œ í˜¼ì ë‹¤ í¼ë¨¹ê¸°", "ğŸ¬ í•´ë¦¬í¬í„° ì‹œë¦¬ì¦ˆ ì •ì£¼í–‰ (ë§ˆë²•ì‚¬ì˜ ê¸¸)", "ğŸ›ï¸ ë‚˜ì—ê²Œ ì£¼ëŠ” ì„ ë¬¼ ì‡¼í•‘ (í”Œë ‰ìŠ¤!)",
            "ğŸº í˜¼ìˆ í•˜ë©° ì˜›ë‚  ì˜ˆëŠ¥ í•˜ì´ë¼ì´íŠ¸ ë³´ê¸°", "ğŸ¤ ì½”ì¸ë…¸ë˜ë°© ê°€ì„œ 1ë§Œì›ì–´ì¹˜ ì§€ë¥´ê¸°", "ğŸƒâ€â™‚ï¸ ì•„ë¬´ë„ ì—†ëŠ” í—¬ìŠ¤ì¥ì—ì„œ í™©ì œ í—¬ìŠ¤",
            "ğŸ§© 1000í”¼ìŠ¤ ì§ì†Œ í¼ì¦ ë§ì¶”ê¸° ë„ì „", "ğŸ“± ìœ íŠœë¸Œ ì•Œê³ ë¦¬ì¦˜ íƒí—˜í•˜ë©° ì‹œê°„ ìˆœì‚­", "ğŸ³ ìœ íŠœë¸Œ ë³´ê³  ë°±ì¢…ì› ë ˆì‹œí”¼ ë”°ë¼í•˜ê¸°",
            "ğŸ›€ ê±°í’ˆ ì…ìš•ì œ ë„£ê³  ëœ¨ëˆí•œ ë°˜ì‹ ìš•", "âœï¸ ë‚´ë…„ ê³„íš ë‹¤ì´ì–´ë¦¬ì— ë„ì ì´ê¸°", "ğŸ« ëˆ„í…”ë¼ í•œ í†µ ìˆŸê°€ë½ìœ¼ë¡œ í¼ë¨¹ê¸°",
            "ğŸ° ë ˆê³  ì¡°ë¦½í•˜ë©° ë¬´ë…ë¬´ìƒ ì¦ê¸°ê¸°", "ğŸ± ê³ ì–‘ì´/ê°•ì•„ì§€ ì¸„ë¥´ ì£¼ë©° ì£¼ì¸ë‹˜ ëª¨ì‹œê¸°", "ğŸ¿ ë„·í”Œë¦­ìŠ¤ ë­í‚¹ 1ìœ„ë¶€í„° 5ìœ„ê¹Œì§€ ì •ë³µ",
            "ğŸ¸ ë°©êµ¬ì„ ê¸°íƒ€/í”¼ì•„ë…¸ ì—°ì£¼íšŒ ê°œìµœ", "ğŸ¥¡ ë§ˆë¼íƒ• ìµœê³  ë§¤ìš´ë§› + ê¿”ë°”ë¡œìš° ë„ì „", "ğŸ’‡â€â™‚ï¸ ë¯¸ìš©ì‹¤ ê°€ì„œ íŒŒê²©ì ì¸ ìŠ¤íƒ€ì¼ ë³€ì‹ ",
            "ğŸ§Ÿâ€â™‚ï¸ 'í‚¹ë¤'ì´ë‚˜ 'ì›Œí‚¹ë°ë“œ' ì¢€ë¹„ë¬¼ ì •ì£¼í–‰", "ğŸ›Œ ì „ê¸°ì¥íŒ í‹€ê³  ê·¤ ê¹Œë¨¹ìœ¼ë©° ì›¹íˆ° ì •ì£¼í–‰", "ğŸ¥© í˜¼ì ê³ ê¹ƒì§‘ ê°€ì„œ 3ì¸ë¶„ í´ë¦¬ì–´ ë„ì „",
            "ğŸ¨ ì»¬ëŸ¬ë§ë¶ ìƒ‰ì¹ í•˜ë©° íë§í•˜ê¸°", "ğŸ”¨ ë‹¤ì´ì†Œ ê°€ì„œ ê¿€í…œ ì‡¼í•‘í•˜ê³  ì§‘ ê¾¸ë¯¸ê¸°", "ğŸ“· ì˜›ë‚  ì‚¬ì§„ì²© ë³´ë©° ì¶”ì–µ ì—¬í–‰ (í‘ì—­ì‚¬ ì£¼ì˜)",
            "ğŸ‘Ÿ ë™ë„¤ ì‚°ì±…í•˜ë©° ì»¤í”Œë“¤ êµ¬ê²½í•˜ê³  ë¹„ì›ƒê¸°", "ğŸ“œ ë°€ë¦° ë“œë¼ë§ˆ ëª°ì•„ë³´ê¸° (ìŠ¤í‚µ ì—†ì´)", "ğŸ ë¹µì§€ìˆœë¡€ ë‹¤ë…€ì™€ì„œ ë¹µ íŒŒí‹°",
            "ğŸ§˜â€â™‚ï¸ ëª…ìƒí•˜ë©° ë‚´ë©´ì˜ í‰í™” ì°¾ê¸°", "ğŸ’» ì•ˆ í•˜ë˜ ë¸”ë¡œê·¸ ê¸€ í•˜ë‚˜ ì¨ë³´ê¸°", "ğŸ§¼ í™”ì¥ì‹¤ íƒ€ì¼ ì¤„ëˆˆ ì²­ì†Œ (ì¤‘ë…ì„± ìˆìŒ)",
            "ğŸ¥£ ì‹œë¦¬ì–¼ ì¢…ë¥˜ë³„ë¡œ ì„ì–´ ë¨¹ì–´ë³´ê¸°", "ğŸ¦¸â€â™‚ï¸ ë§ˆë¸” ì˜í™” íƒ€ì„ë¼ì¸ ìˆœì„œëŒ€ë¡œ ë³´ê¸°", "ğŸ¦¦ ë™ë¬¼ë†ì¥ í•˜ì´ë¼ì´íŠ¸ ë³´ë©° íë§",
            "ğŸ“¹ í‹±í†¡/ë¦´ìŠ¤ ì¶¤ ì—°ìŠµí•´ë³´ê¸° (ì•„ë¬´ë„ ëª» ë´„)", "ğŸŒµ ë°˜ë ¤ì‹ë¬¼ì—ê²Œ í¬ë¦¬ìŠ¤ë§ˆìŠ¤ ì¸ì‚¬ ê±´ë„¤ê¸°", "ğŸ¥¢ ë¼ë©´ 3ê°œ ë“ì—¬ì„œ ê¹€ì¹˜ë‘ í¡ì…",
            "ğŸ§–â€â™‚ï¸ ì°œì§ˆë°© ê°€ì„œ ì‹í˜œì— ë§¥ë°˜ì„ ê³„ë€", "ğŸ­ ì¶”ë¦¬ ì†Œì„¤ ì½ìœ¼ë©° ë²”ì¸ ë§íˆê¸°", "ğŸ³ ë³¼ë§ì¥ ê°€ì„œ ìŠ¤íŠ¸ë¼ì´í¬ ì—°ìŠµ",
            "ğŸ£ ì‹¤ë‚´ ë‚šì‹œí„° ê°€ì„œ ê°•íƒœê³µ ë˜ì–´ë³´ê¸°", "ğŸ¦ ì•„ì´ìŠ¤í¬ë¦¼ ì¼€ì´í¬ í˜¼ì ìˆŸê°€ë½ìœ¼ë¡œ ë¨¹ê¸°", "ğŸ· ì™€ì¸ í•œ ë³‘ ì‚¬ì„œ ë¶„ìœ„ê¸° ì¡ê¸°",
            "ğŸ–¼ï¸ ì „ì‹œíšŒ í˜¼ì ê°€ì„œ êµì–‘ ìŒ“ê¸°", "ğŸ›Œ í•˜ë£¨ì¢…ì¼ ì ì˜· ì…ê³  ìƒí™œí•˜ê¸° (ì„¸ìˆ˜ ì•ˆ í•¨)", "ğŸ§º ë°€ë¦° ë¹¨ë˜ ë‹¤ ëŒë¦¬ê³  ì„¬ìœ ìœ ì—°ì œ ëƒ„ìƒˆ ë§¡ê¸°",
            "ğŸ¦¶ ì¡±ìš•í•˜ë©° í”¼ë¡œ í’€ê¸°", "ğŸ§ í”Œë ˆì´ë¦¬ìŠ¤íŠ¸ ì •ë¦¬í•˜ê³  ìŒì•… ê°ìƒ", "ğŸ’… ì…€í”„ ë„¤ì¼ ì¼€ì–´ í•˜ê¸°",
            "ğŸ§›â€â™‚ï¸ ë“œë¼í˜ë¼ ì˜í™” ë³´ë©° ë§ˆëŠ˜ë¹µ ë¨¹ê¸°", "ğŸ¦• ê³µë£¡ ë‹¤íë©˜í„°ë¦¬ ë³´ë©° ë™ì‹¬ ì°¾ê¸°"
        ];

        const quotes = [
            "ì‚°íƒ€í´ë¡œìŠ¤ë„ ì‚¬ì‹¤ ë…ê±°ë…¸ì¸ì´ë‹¤.", "ì»¤í”Œì€ ëª…ì ˆì— í—¤ì–´ì§€ì§€ë§Œ, ì†”ë¡œëŠ” ì˜ì›í•˜ë‹¤.", "ëˆ êµ³ì—ˆë‹¤. ê·¸ ëˆìœ¼ë¡œ ì¹˜í‚¨ ë‘ ë§ˆë¦¬ ë¨¹ì.",
            "ì™¸ë¡œì›€ì€ ì§€ëŠ¥ì´ ë†’ë‹¤ëŠ” ì¦ê±°ë‹¤. (ì•„ë§ˆë„)", "ë£¨ëŒí”„ ì½”ê°€ ì™œ ë¹¨ê°„ ì¤„ ì•„ë‚˜? ìˆ  ë§ˆì…”ì„œ ê·¸ë ‡ë‹¤.", "ì˜ˆìˆ˜ë‹˜ë„ ì†”ë¡œì…¨ë‹¤. ìš°ë¦¬ëŠ” ì„±ì¸ì˜ ê¸¸ì„ ê±·ëŠ” ì¤‘.",
            "ì§€ê¸ˆ ì´ë¶ˆ ë°–ì€ ìœ„í—˜í•˜ë‹¤. ë”°ëœ»í•œ ë„¤ê°€ ìŠ¹ì.", "ì»¤í”Œë“¤ì´ ì‹¸ìš°ëŠ” ë™ì•ˆ ìš°ë¦¬ëŠ” í‰í™”ë¥¼ ì§€ì¼°ë‹¤.", "í¬ë¦¬ìŠ¤ë§ˆìŠ¤ëŠ” ê·¸ëƒ¥ ë¹¨ê°„ ë‚ ì¼ ë¿ì´ë‹¤.",
            "ë‚´ í†µì¥ì´ ì›ƒê³  ìˆë‹¤. ë°ì´íŠ¸ ë¹„ìš© 0ì›.", "ì¼€ë¹ˆì€ ì˜ì›í•œ ë‚˜ì˜ ì¹œêµ¬.", "í˜¼ì ìˆëŠ” ê²ƒì€ í›Œë¥­í•˜ë‹¤. ì¼€ì´í¬ë¥¼ ì•ˆ ë‚˜ëˆ ë„ ë˜ë‹ˆê¹Œ.",
            "ì†”ë¡œê°€ ì•„ë‹ˆë¼ 'ììœ ë¡œìš´ ì˜í˜¼'ì´ë¼ê³  ë¶ˆëŸ¬ë¼.", "ì˜¤ëŠ˜ í—¬ìŠ¤ì¥ì€ ìš°ë¦¬ ê²ƒì´ë‹¤. ë“ê·¼í•˜ì!", "ì‚¬ë‘ì€ ê°€ë„ ì¹˜í‚¨ì€ ë‚¨ëŠ”ë‹¤.",
            "ë„ˆëŠ” ì™¸ë¡œìš´ ê²Œ ì•„ë‹ˆë¼ ê³ ë…ì„ ì¦ê¸°ëŠ” ê²ƒì´ë‹¤.", "ì„¸ìƒì—ì„œ ì œì¼ ì™„ë²½í•œ íŒŒíŠ¸ë„ˆëŠ” ì „ê¸°ì¥íŒì´ë‹¤.", "12ì›” 25ì¼ì€ ê·¸ëƒ¥ ìˆ˜ìš”ì¼(ìš”ì¼)ì¼ ë¿.",
            "ì„ ë¬¼? ë‚´ê°€ ë‚˜ì—ê²Œ ì£¼ëŠ” ì„ ë¬¼ì´ ìµœê³ ë‹¤.", "ë‚¨ë“¤ ëˆˆì¹˜ ì•ˆ ë³´ê³  íŠ¸ë¦¼í•  ìˆ˜ ìˆëŠ” ììœ .", "ìš°ë¦¬ëŠ” í™˜ê²½ë³´í˜¸ ìš´ë™ê°€ë‹¤. (ë°ì´íŠ¸ ì“°ë ˆê¸° 0)",
            "ë‚´ë…„ì—ëŠ” ìƒê¸°ê² ì§€? (ì•„ë§ˆë„)", "ìŠ¤ë‹˜ê³¼ ì‹ ë¶€ë‹˜ë„ ì˜¤ëŠ˜ì€ í˜¼ì ê¸°ë„í•˜ì‹ ë‹¤.", "ì—°ì• ì„¸í¬ê°€ ë™ë©´ ì¤‘ì¼ ë¿ì´ë‹¤.",
            "ì§€ê¸ˆ í—¤ì–´ì§€ë©´ ë‚´ë…„ í¬ë¦¬ìŠ¤ë§ˆìŠ¤ë„ í˜¼ìë‹¤.", "ì˜¤ëŠ˜ ë„·í”Œë¦­ìŠ¤ ì„œë²„ëŠ” ìš°ë¦¬ê°€ ì§€í‚¨ë‹¤.", "ì»¤í”Œì§€ì˜¥ ì†”ë¡œì²œêµ­ì€ ê³¼í•™ì´ë‹¤.",
            "ìš¸ì§€ë§ˆë¼. ì‚°íƒ€ í• ì•„ë²„ì§€ëŠ” ìš°ëŠ” ì• í•œí…Œ ì„ ë¬¼ ì•ˆ ì¤€ë‹¤.", "ë„ˆë§Œ ì—†ëŠ” ê±° ì•„ë‹ˆë‹¤. ë‚˜ë„ ì—†ë‹¤.", "ì¸ìƒì€ ë…ê³ ë‹¤ì´.",
            "ì˜¤ëŠ˜ ë­ ì…ì„ì§€ ê³ ë¯¼ ì•ˆ í•´ë„ ëœë‹¤. ì ì˜· ìµœê³ .", "í¬ë¦¬ìŠ¤ë§ˆìŠ¤ ì´ë¸Œ? ê·¸ëƒ¥ 24ì¼ ë°¤ì´ë‹¤.", "í˜¼ì ì˜í™”ê´€ ê°€ë©´ ì–‘ìª½ íŒ”ê±¸ì´ ë‹¤ ë‚´ êº¼.",
            "ë·”í˜ í˜¼ì ê°€ë©´ ëˆˆì¹˜ ì•ˆ ë³´ê³  10ì ‘ì‹œ ê°€ëŠ¥.", "ìš°ë¦¬ì˜ ì „ì„±ê¸°ëŠ” ì•„ì§ ì˜¤ì§€ ì•Šì•˜ë‹¤.", "ì†”ë¡œë¼ì„œ ë‹¤í–‰ì´ë‹¤. ì„ ë¬¼ ê³ ë¥´ëŠ” ìŠ¤íŠ¸ë ˆìŠ¤ 0.",
            "ì ì´ ë³´ì•½ì´ë‹¤. í‘¹ ìë©´ í”¼ë¶€ ì¢‹ì•„ì§.", "ê±°ë¦¬ì— ë‚˜ê°€ë©´ ì¶”ìš¸ ë¿ì´ë‹¤. ì§‘ì´ ìµœê³ .", "ë‚´ ì§ì€ ì•„ì§ íƒœì–´ë‚˜ì§€ ì•Šì•˜ì„ ìˆ˜ë„ ìˆë‹¤.",
            "ì™¸ë¡œì›€ì„ ì¦ê¸°ëŠ” ìê°€ ì§„ì •í•œ ì±”í”¼ì–¸.", "ì§„ì •í•œ ììœ ëŠ” ì†”ë¡œì¼ ë•Œ ì˜¨ë‹¤.", "ë‚¨ì˜ ì—°ì• ì‚¬ êµ¬ê²½í•˜ëŠ” ê²Œ ì œì¼ ì¬ë°Œë‹¤.",
            "ì»¤í”Œë“¤ì€ ì§€ê¸ˆì¯¤ ì‹¸ìš°ê³  ìˆì„ ê²ƒì´ë‹¤.", "ì´ë¶ˆ ì†ì´ ì œì¼ ì•ˆì „í•´.", "ë‚˜ ìì‹ ì„ ì‚¬ë‘í•˜ëŠ” ê²Œ ìµœê³ ì˜ ë¡œë§¨ìŠ¤ë‹¤.",
            "ì†”ë¡œë¼ì„œ ì™¸ë¡œìš´ ê²Œ ì•„ë‹ˆë¼, ë°°ê³ íŒŒì„œ ì™¸ë¡œìš´ ê±°ë‹¤.", "ì˜¤ëŠ˜ë§Œ ì§€ë‚˜ë©´ ë‚´ ì„¸ìƒì´ë‹¤.", "ëˆˆ? ê·¸ëƒ¥ í•˜ëŠ˜ì—ì„œ ë‚´ë¦¬ëŠ” ì“°ë ˆê¸°ì¼ ë¿.",
            "ì»¤í”Œ ìš”ê¸ˆì œ ì•ˆ ì¨ë„ ë°ì´í„° ë‚¨ëŠ”ë‹¤.", "ë‚´ ì¸ìƒì˜ ì£¼ì¸ê³µì€ ë‚˜ë‹¤. ì¡°ì—° í•„ìš” ì—†ìŒ."
        ];

        let isSpinning = false;
        
        // [ì¶”ê°€] ë£°ë › íš¨ê³¼ìŒ í•¨ìˆ˜
        function playRouletteSound(type) {
            // ì˜¤ë””ì˜¤ ì»¨í…ìŠ¤íŠ¸ í™•ì¸ ë° ì¬ê°œ
            if (!audioCtx) initAudio();
            if (audioCtx.state === 'suspended') audioCtx.resume();

            const now = audioCtx.currentTime;
            const osc = audioCtx.createOscillator();
            const gainNode = audioCtx.createGain();
            
            osc.connect(gainNode);
            gainNode.connect(audioCtx.destination);

            if (type === 'tick') {
                // íšŒì „ ì†Œë¦¬: ì§§ì€ í´ë¦­ìŒ (ë†’ì€ í”¼ì¹˜ì—ì„œ ë¹ ë¥´ê²Œ ë–¨ì–´ì§)
                osc.type = 'triangle';
                osc.frequency.setValueAtTime(600, now);
                osc.frequency.exponentialRampToValueAtTime(100, now + 0.05);
                
                gainNode.gain.setValueAtTime(0.05, now); // ë³¼ë¥¨ì€ ì‘ê²Œ
                gainNode.gain.exponentialRampToValueAtTime(0.001, now + 0.05);
                
                osc.start(now);
                osc.stop(now + 0.05);
            } else if (type === 'win') {
                // ë‹¹ì²¨ ì†Œë¦¬: ë ë§! (ë‘ ê°œì˜ í†¤)
                const osc2 = audioCtx.createOscillator();
                const gain2 = audioCtx.createGain();
                osc2.connect(gain2);
                gain2.connect(audioCtx.destination);

                // ì²« ë²ˆì§¸ í†¤ (C5)
                osc.type = 'sine';
                osc.frequency.setValueAtTime(523.25, now); 
                gainNode.gain.setValueAtTime(0.2, now);
                gainNode.gain.exponentialRampToValueAtTime(0.001, now + 1.0);
                
                // ë‘ ë²ˆì§¸ í†¤ (E5) - ì‚´ì§ ëŠ¦ê²Œ ì‹œì‘
                osc2.type = 'sine';
                osc2.frequency.setValueAtTime(659.25, now + 0.1); 
                gain2.gain.setValueAtTime(0.2, now + 0.1);
                gain2.gain.exponentialRampToValueAtTime(0.001, now + 1.1);

                osc.start(now);
                osc.stop(now + 1.0);
                osc2.start(now + 0.1);
                osc2.stop(now + 1.1);
            }
        }

        function spinRoulette() {
            if (isSpinning) return;
            isSpinning = true;
            
            // ë£°ë › ì‹œì‘ ì‹œ ì˜¤ë””ì˜¤ ê¹¨ìš°ê¸°
            if (!audioCtx) initAudio();
            if (audioCtx.state === 'suspended') audioCtx.resume();
            
            const display = document.getElementById('activity-text');
            let count = 0;
            const maxCount = 20; 
            const speed = 50; 

            const interval = setInterval(() => {
                const randomIdx = Math.floor(Math.random() * activities.length);
                display.innerText = activities[randomIdx];
                
                // íšŒì „ ì†Œë¦¬ ì¬ìƒ
                playRouletteSound('tick');
                
                count++;

                if (count >= maxCount) {
                    clearInterval(interval);
                    isSpinning = false;
                    
                    // ë‹¹ì²¨ ì†Œë¦¬ ì¬ìƒ
                    playRouletteSound('win');
                    
                    // [ìˆ˜ì •] JSë¡œ ìŠ¤íƒ€ì¼ ë³€ê²½ ì‹œ !important ì ìš©
                    display.style.setProperty('color', '#ef4444', 'important'); // ë¹¨ê°„ìƒ‰ ê°•ì¡°
                    setTimeout(() => {
                        display.style.setProperty('color', '#1e293b', 'important'); // ì›ë˜ ìƒ‰ ë³µê·€
                    }, 300);
                    
                    // ëª…ì–¸ë„ ê°™ì´ ëœë¤ ë³€ê²½
                    const quoteIdx = Math.floor(Math.random() * quotes.length);
                    document.getElementById('quote-text').innerText = quotes[quoteIdx];
                }
            }, speed);
        }

        // --- ì˜¤ë””ì˜¤ ì‹œìŠ¤í…œ (Web Audio API) ---
        let audioCtx = null;
        let isPlaying = false;
        let nextNoteTime = 0;
        let timerID = null;
        let currentNoteIndex = 0;

        // 1. ìš°ìš¸í•œ ë©œë¡œë”” (A Minor)
        const gloomyMelody = [
            { freq: 329.63, dur: 1.0 }, { freq: 246.94, dur: 1.0 }, { freq: 261.63, dur: 0.5 }, { freq: 293.66, dur: 0.5 },
            { freq: 261.63, dur: 0.5 }, { freq: 246.94, dur: 0.5 }, { freq: 220.00, dur: 2.0 }, { freq: 0, dur: 0.5 },
            { freq: 261.63, dur: 1.0 }, { freq: 329.63, dur: 1.0 }, { freq: 440.00, dur: 2.0 }, { freq: 392.00, dur: 1.0 },
            { freq: 349.23, dur: 1.0 }, { freq: 329.63, dur: 2.0 }, { freq: 0, dur: 1.0 }
        ];

        // 2. [ì¶”ê°€] ì‹ ë‚˜ëŠ” ìŠ¹ë¦¬ ë©œë¡œë”” (C Major Fanfare)
        const victoryMelody = [
            { freq: 523.25, dur: 0.2 }, { freq: 523.25, dur: 0.2 }, { freq: 523.25, dur: 0.2 }, { freq: 0, dur: 0.1 }, // C C C
            { freq: 523.25, dur: 0.4 }, { freq: 659.25, dur: 0.4 }, // C E
            { freq: 783.99, dur: 0.4 }, { freq: 1046.50, dur: 0.8 }, // G C(high)
            { freq: 783.99, dur: 0.2 }, { freq: 1046.50, dur: 1.0 }  // G C(high)
        ];

        function initAudio() {
            if (!audioCtx) {
                const AudioContext = window.AudioContext || window.webkitAudioContext;
                audioCtx = new AudioContext();
            }
            if (audioCtx.state === 'suspended') {
                audioCtx.resume();
            }
        }

        function playTone(freq, duration, startTime) {
            if (freq === 0) return;

            const osc = audioCtx.createOscillator();
            const gainNode = audioCtx.createGain();
            
            // ìƒíƒœì— ë”°ë¼ íŒŒí˜• ë³€ê²½ (ìš°ìš¸: sine, ì‹ ë‚¨: square/sawtooth)
            osc.type = isEscaped ? 'square' : 'sine';
            osc.frequency.value = freq;
            
            const volume = isEscaped ? 0.05 : 0.15; // ì‹ ë‚˜ëŠ” ê±´ ì¢€ ì‘ê²Œ (ê·€ ì•„í”” ë°©ì§€)

            gainNode.gain.setValueAtTime(0, startTime);
            gainNode.gain.linearRampToValueAtTime(volume, startTime + 0.05);
            gainNode.gain.exponentialRampToValueAtTime(0.001, startTime + duration);
            
            osc.connect(gainNode);
            gainNode.connect(audioCtx.destination);
            
            osc.start(startTime);
            osc.stop(startTime + duration);
        }

        function scheduler() {
            // í˜„ì¬ ìƒíƒœì— ë§ëŠ” ë©œë¡œë”” ì„ íƒ
            const activeMelody = isEscaped ? victoryMelody : gloomyMelody;
            // í…œí¬ ì¡°ì ˆ (ìš°ìš¸: 0.8ë°° ëŠë¦¬ê²Œ, ì‹ ë‚¨: 0.4ë°° ë¹ ë¥´ê²Œ)
            const speedFactor = isEscaped ? 0.4 : 0.8;

            while (nextNoteTime < audioCtx.currentTime + 0.1) {
                const note = activeMelody[currentNoteIndex];
                const realDuration = note.dur * speedFactor;
                
                playTone(note.freq, realDuration, nextNoteTime);
                
                nextNoteTime += realDuration;
                currentNoteIndex++;
                
                if (currentNoteIndex >= activeMelody.length) {
                    currentNoteIndex = 0; // ë°˜ë³µ
                    if (isEscaped) nextNoteTime += 0.5; // ìŠ¹ë¦¬ ìŒì•…ì€ ë£¨í”„ ê°„ê²© ë‘ 
                }
            }
            timerID = requestAnimationFrame(scheduler);
        }

        function toggleMusic() {
            const icon = document.getElementById('music-icon');
            const text = document.getElementById('music-text');
            const btn = document.getElementById('music-btn');

            if (isPlaying) {
                if (timerID) cancelAnimationFrame(timerID);
                if (audioCtx) audioCtx.suspend();
                isPlaying = false;
                
                const label = isEscaped ? "Victory BGM" : "BGM ON (ìš°ìš¸í•¨ ì£¼ì˜)";
                text.textContent = label;
                icon.setAttribute('data-lucide', 'music');
                
                // ìŠ¤íƒ€ì¼ Off
                btn.classList.remove('bg-gray-800', 'text-gray-300', 'border-gray-600', 'bg-blue-600', 'text-white', 'border-blue-400');
                btn.classList.add('bg-black/40', 'text-gray-300');
            } else {
                initAudio();
                if (audioCtx.state === 'suspended') audioCtx.resume();
                
                nextNoteTime = audioCtx.currentTime + 0.1;
                currentNoteIndex = 0;
                scheduler();
                
                isPlaying = true;
                icon.setAttribute('data-lucide', 'volume-2');
                
                if (isEscaped) {
                    text.textContent = "PARTY TIME!!";
                    // íŒŒí‹° ëª¨ë“œ ë²„íŠ¼ ìŠ¤íƒ€ì¼
                    btn.classList.remove('bg-black/40', 'text-gray-300');
                    btn.classList.add('bg-blue-600', 'text-white', 'border-blue-400');
                } else {
                    text.textContent = "Playing Gloomy...";
                    // ìš°ìš¸ ëª¨ë“œ ë²„íŠ¼ ìŠ¤íƒ€ì¼
                    btn.classList.remove('bg-black/40');
                    btn.classList.add('bg-gray-800', 'text-gray-300', 'border-gray-600');
                }
            }
            lucide.createIcons();
        }

        // ì´ˆê¸°í™”
        lucide.createIcons();
        createParticles();
        setInterval(updateCountdown, 1000);
        updateCountdown();

    </script>
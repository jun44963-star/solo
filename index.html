<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Merry Solo Christmas</title>

  <!-- Tailwind + Lucide -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/lucide@latest"></script>

  <style>
    body{margin:0; background:#070b14; min-height:100vh; display:flex; align-items:center; justify-content:center; padding:24px;}
  </style>
</head>
<body>

  <!-- ìœ„ì ¯ ì‹œì‘ -->
  <!-- âœ… ì—¬ê¸° ìë¦¬ì— â€œìˆ˜ì •ë³¸ í†µí•© ì½”ë“œâ€ì˜ ìœ„ì ¯(div+style+script) ì „ì²´ë¥¼ ë„£ì–´ì£¼ì„¸ìš” -->
  <!-- ìœ„ì ¯ ë -->

</body>
</html>
<p data-ke-size="size16">&nbsp;</p>
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://unpkg.com/lucide@latest"></script>

<!-- ìœ„ì ¯ ì‹œì‘ -->
<div id="solo-xmas-widget"
  class="w-full max-w-lg mx-auto rounded-3xl shadow-2xl p-6 md:p-8 text-center border-4 border-yellow-400/30 relative overflow-hidden"
  style="background: radial-gradient(1200px 600px at 50% -10%, rgba(255,255,255,0.18), transparent 60%),
         linear-gradient(135deg, #0b1220, #08101b);"
>
  <!-- ëˆˆ/íŒŒí‹°í´ ìƒì„± ì˜ì—­ -->
  <div id="snow-container" class="absolute inset-0 pointer-events-none z-0"></div>

  <!-- ê³µìœ  ë²„íŠ¼ (ì¢Œì¸¡ ìƒë‹¨) -->
  <button id="share-btn" type="button" class="absolute top-4 left-4 z-50">
    <div class="bg-black/40 backdrop-blur-sm p-2 rounded-full shadow-lg flex items-center gap-2 text-xs font-bold text-gray-200 hover:bg-black/60 transition-all border border-gray-500/50">
      <i data-lucide="share-2" class="w-4 h-4"></i> <span>ê³µìœ </span>
    </div>
  </button>

  <!-- ë°°ê²½ìŒì•… ì»¨íŠ¸ë¡¤ (ìš°ì¸¡ ìƒë‹¨) -->
  <button id="music-btn" type="button" class="absolute top-4 right-4 z-50">
    <div class="bg-black/40 backdrop-blur-sm p-2 rounded-full shadow-lg flex items-center gap-2 text-xs font-bold text-gray-200 hover:bg-black/60 transition-all border border-gray-500/50">
      <i id="music-icon" data-lucide="music" class="w-4 h-4"></i>
      <span id="music-text">BGM ON</span>
    </div>
  </button>

  <!-- í—¤ë” -->
  <header id="egg-target" class="relative z-10 mb-8 mt-8 cursor-pointer select-none">
    <div class="flex justify-center items-center gap-2 mb-2">
      <i id="header-icon-1" data-lucide="snowflake" class="w-6 h-6 text-blue-200"></i>
      <i id="header-icon-2" data-lucide="sparkles" class="w-6 h-6 text-yellow-200"></i>
    </div>

    <h1 id="main-title" class="text-3xl md:text-4xl font-black text-white drop-shadow-lg mb-2">
      Merry <span class="text-yellow-300">Solo</span> Christmas
    </h1>
    <p id="sub-title" class="text-blue-100 text-sm md:text-base opacity-90">
      ì»¤í”Œë“¤ì€ ì¶¥ì§€ë§Œ, ìš°ë¦¬ëŠ” ì§‘ì´ë¼ ë”°ëœ»í•˜ë‹¤.
    </p>
  </header>

  <!-- 1. í¬ë¦¬ìŠ¤ë§ˆìŠ¤ íƒˆì¶œ ì¹´ìš´íŠ¸ë‹¤ìš´ -->
  <div id="countdown-box" class="relative z-10 bg-black/30 backdrop-blur-sm rounded-2xl p-6 mb-6 border border-white/20 transition-colors">
    <h2 id="countdown-title" class="text-lg font-bold mb-4 flex items-center justify-center gap-2 text-red-300">
      <i data-lucide="timer" class="w-5 h-5"></i>
      <span class="text-xl font-extrabold">í¬ë¦¬ìŠ¤ë§ˆìŠ¤ íƒˆì¶œê¹Œì§€</span>
    </h2>

    <div id="countdown" class="text-3xl md:text-5xl font-mono font-bold text-white tracking-widest drop-shadow-md">
      0ì¼ 00:00:00
    </div>
    <p id="countdown-desc" class="text-xs text-gray-300 mt-2">12ì›” 26ì¼ì´ ì˜¤ë©´ ìš°ë¦¬ëŠ” ìŠ¹ë¦¬í•œë‹¤.</p>
  </div>

  <!-- 2. ì†”ë¡œ í™œë™ ëœë¤ ì¶”ì²œê¸° -->
  <div class="relative z-10 bg-white/10 backdrop-blur-md rounded-2xl p-6 mb-6 border border-white/20">
    <h2 class="text-lg font-bold mb-4 flex items-center justify-center gap-2 text-green-300">
      <i data-lucide="gamepad-2" class="w-5 h-5"></i>
      <span class="text-xl font-extrabold">ì˜¤ëŠ˜ ë­í•˜ì§€? (ëœë¤ ì¶”ì²œ)</span>
    </h2>

    <div id="activity-display" class="bg-white/90 rounded-xl p-4 min-h-[120px] flex items-center justify-center mb-4 shadow-inner">
      <p id="activity-text" class="font-extrabold text-slate-800">ë²„íŠ¼ì„ ëˆŒëŸ¬ë³´ì„¸ìš”!</p>
    </div>

    <button id="roulette-btn" type="button"
      class="px-6 py-3 bg-red-600 hover:bg-red-500 text-white rounded-full font-bold transition-all shadow-lg flex items-center justify-center gap-2 mx-auto w-full md:w-auto">
      <i data-lucide="dices" class="w-5 h-5"></i> ìš´ëª…ì— ë§¡ê¸°ê¸°
    </button>
  </div>

  <!-- 3. ì˜¤ëŠ˜ì˜ ëª…ì–¸ -->
  <div class="relative z-10 mt-8 mb-6">
    <div class="inline-flex items-center gap-2 bg-black/40 px-4 py-2 rounded-full text-sm text-yellow-200 border border-yellow-500/30">
      <i data-lucide="quote" class="w-4 h-4"></i>
      <span id="quote-text">ì‚°íƒ€í´ë¡œìŠ¤ë„ ì‚¬ì‹¤ ë…ê±°ë…¸ì¸ì´ë‹¤.</span>
    </div>
  </div>

  <!-- ì œì‘ì ë§í¬ -->
  <div class="relative z-10 pt-4 border-t border-white/10">
    <a class="text-xs text-gray-300 hover:text-white transition-colors flex items-center justify-center gap-1"
      href="https://hjkim20089.tistory.com/" target="_blank" rel="noopener">
      <i data-lucide="home" class="w-4 h-4"></i> Made by HJKIM
    </a>
  </div>
</div>

<style>
  /* --- ëˆˆì†¡ì´ --- */
  #snow-container .snowflake{
    position:absolute;
    color: rgba(255,255,255,0.9);
    text-shadow: 0 0 10px rgba(255,255,255,0.35);
    will-change: transform;
    animation-timing-function: linear;
    user-select:none;
  }
  @keyframes fall { to { transform: translateY(120vh); } }
  @keyframes shake-snow { 0%,100%{ margin-left:0 } 50%{ margin-left:18px } }

  /* --- íƒˆì¶œ ì„±ê³µ íŒŒí‹°í´ --- */
  #snow-container .confetti-particle{
    position:absolute;
    width:6px;
    height:10px;
    border-radius: 3px;
    opacity:0.95;
    will-change: transform, opacity;
    animation-timing-function: ease-out;
  }
  @keyframes rise {
    0% { transform: translateY(20px) rotate(0deg); opacity: 0.0; }
    10% { opacity: 1; }
    100% { transform: translateY(-120vh) rotate(720deg); opacity: 0.0; }
  }

  /* íƒˆì¶œ ìƒíƒœ ë°°ê²½ */
  #solo-xmas-widget.escaped{
    background: radial-gradient(900px 500px at 50% 0%, rgba(59,130,246,0.35), transparent 60%),
                radial-gradient(900px 500px at 0% 100%, rgba(255,215,0,0.28), transparent 60%),
                linear-gradient(135deg, #070b14, #071a2d);
    border-color: rgba(59,130,246,0.55);
  }
</style>

<script>
(() => {
  let isEscaped = false;
  let eggCount = 0;
  let isSpinning = false;

  // --- ì˜¤ë””ì˜¤ ì‹œìŠ¤í…œ ---
  let audioCtx = null;
  let isPlaying = false;
  let nextNoteTime = 0;
  let timerID = null;
  let currentNoteIndex = 0;

  const gloomyMelody = [
    { freq: 329.63, dur: 1.0 }, { freq: 246.94, dur: 1.0 }, { freq: 261.63, dur: 0.5 }, { freq: 293.66, dur: 0.5 },
    { freq: 261.63, dur: 0.5 }, { freq: 246.94, dur: 0.5 }, { freq: 220.00, dur: 2.0 }, { freq: 0, dur: 0.5 },
    { freq: 261.63, dur: 1.0 }, { freq: 329.63, dur: 1.0 }, { freq: 440.00, dur: 2.0 }, { freq: 392.00, dur: 1.0 },
    { freq: 349.23, dur: 1.0 }, { freq: 329.63, dur: 2.0 }, { freq: 0, dur: 1.0 }
  ];

  const victoryMelody = [
    { freq: 523.25, dur: 0.2 }, { freq: 523.25, dur: 0.2 }, { freq: 523.25, dur: 0.2 }, { freq: 0, dur: 0.1 },
    { freq: 523.25, dur: 0.4 }, { freq: 659.25, dur: 0.4 },
    { freq: 783.99, dur: 0.4 }, { freq: 1046.50, dur: 0.8 },
    { freq: 783.99, dur: 0.2 }, { freq: 1046.50, dur: 1.0 }
  ];

  function initAudio() {
    if (!audioCtx) {
      const AC = window.AudioContext || window.webkitAudioContext;
      audioCtx = new AC();
    }
    if (audioCtx.state === 'suspended') audioCtx.resume();
  }

  function playTone(freq, duration, startTime) {
    if (freq === 0 || !audioCtx) return;

    const osc = audioCtx.createOscillator();
    const gainNode = audioCtx.createGain();

    osc.type = isEscaped ? 'square' : 'sine';
    osc.frequency.value = freq;

    const volume = isEscaped ? 0.05 : 0.12;

    gainNode.gain.setValueAtTime(0.0001, startTime);
    gainNode.gain.linearRampToValueAtTime(volume, startTime + 0.03);
    gainNode.gain.exponentialRampToValueAtTime(0.0001, startTime + duration);

    osc.connect(gainNode);
    gainNode.connect(audioCtx.destination);

    osc.start(startTime);
    osc.stop(startTime + duration);
  }

  function scheduler() {
    const activeMelody = isEscaped ? victoryMelody : gloomyMelody;
    const speedFactor = isEscaped ? 0.4 : 0.8;

    while (nextNoteTime < audioCtx.currentTime + 0.1) {
      const note = activeMelody[currentNoteIndex];
      const realDuration = note.dur * speedFactor;

      playTone(note.freq, realDuration, nextNoteTime);

      nextNoteTime += realDuration;
      currentNoteIndex++;

      if (currentNoteIndex >= activeMelody.length) {
        currentNoteIndex = 0;
        if (isEscaped) nextNoteTime += 0.5;
      }
    }
    timerID = requestAnimationFrame(scheduler);
  }

  function toggleMusic() {
    const icon = document.getElementById('music-icon');
    const text = document.getElementById('music-text');

    if (isPlaying) {
      if (timerID) cancelAnimationFrame(timerID);
      if (audioCtx) audioCtx.suspend();
      isPlaying = false;

      text.textContent = isEscaped ? "Victory BGM" : "BGM ON";
      icon.setAttribute('data-lucide', 'music');
    } else {
      initAudio();
      nextNoteTime = audioCtx.currentTime + 0.1;
      currentNoteIndex = 0;
      scheduler();
      isPlaying = true;

      icon.setAttribute('data-lucide', 'volume-2');
      text.textContent = isEscaped ? "PARTY TIME!!" : "Playing Gloomy...";
    }
    lucide.createIcons();
  }

  // --- ëˆˆ/íŒŒí‹°í´ ---
  function createParticles() {
    const container = document.getElementById('snow-container');
    if (!container) return;
    container.innerHTML = '';
    const count = 30;

    for (let i = 0; i < count; i++) {
      const p = document.createElement('div');

      if (isEscaped) {
        p.className = 'confetti-particle';
        p.style.backgroundColor = ['#FFD700', '#FFFFFF', '#00BFFF', '#FF69B4'][Math.floor(Math.random() * 4)];
        p.style.bottom = '-10px';
        p.style.animationName = 'rise';
      } else {
        p.className = 'snowflake';
        p.textContent = 'â„';
        p.style.top = '-10px';
        p.style.animationName = 'fall, shake-snow';
      }

      p.style.left = (Math.random() * 100) + '%';
      p.style.animationDuration = (Math.random() * 3 + 2) + 's';
      p.style.fontSize = isEscaped ? '10px' : (Math.random() * 10 + 10) + 'px';

      container.appendChild(p);
    }
  }

  // --- ì¹´ìš´íŠ¸ë‹¤ìš´ ---
  function updateCountdown() {
    if (isEscaped) return;

    const now = new Date();
    const y = now.getFullYear();
    let target = new Date(y, 11, 26, 0, 0, 0);

    if (now >= target && now.getMonth() === 11 && now.getDate() >= 26) {
      celebrateEscape();
      return;
    } else if (now > target) {
      target = new Date(y + 1, 11, 26, 0, 0, 0);
    }

    const diff = target - now;
    const days = Math.floor(diff / (1000 * 60 * 60 * 24));
    const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
    const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
    const seconds = Math.floor((diff % (1000 * 60)) / 1000);

    const h = hours < 10 ? "0" + hours : hours;
    const m = minutes < 10 ? "0" + minutes : minutes;
    const s = seconds < 10 ? "0" + seconds : seconds;

    document.getElementById('countdown').innerText = `${days}ì¼ ${h}:${m}:${s}`;
  }

  function celebrateEscape() {
    if (isEscaped) return;
    isEscaped = true;

    const widget = document.getElementById('solo-xmas-widget');
    widget.classList.add('escaped');

    document.getElementById('main-title').innerHTML = `ğŸ‰ SOLO <span class="text-white drop-shadow-md">VICTORY!</span>`;
    document.getElementById('sub-title').innerText = "ìš°ë¦¬ëŠ” ì‚´ì•„ë‚¨ì•˜ë‹¤! ììœ ë¥¼ ë§Œë½í•˜ë¼!";

    document.getElementById('countdown-title').innerHTML =
      `<i data-lucide="trophy" class="w-5 h-5 text-yellow-400"></i><span class="text-xl font-extrabold text-yellow-200">ë¯¸ì…˜ í´ë¦¬ì–´</span>`;
    document.getElementById('countdown').innerText = "MISSION COMPLETE";
    document.getElementById('countdown').classList.add('text-yellow-200');
    document.getElementById('countdown-desc').innerText = "ì»¤í”Œë“¤ì˜ ì¶•ì œëŠ” ëë‚¬ë‹¤. ì´ì œ ìš°ë¦¬ì˜ ì„¸ìƒì´ë‹¤.";

    // ì•„ì´ì½˜ ë³€ê²½ (ì¡´ì¬í•˜ë¯€ë¡œ ì—ëŸ¬ ì—†ìŒ)
    document.getElementById('header-icon-1').setAttribute('data-lucide', 'crown');
    document.getElementById('header-icon-2').setAttribute('data-lucide', 'thumbs-up');
    lucide.createIcons();

    createParticles();

    // ìŒì•… ìƒíƒœ ë°˜ì˜
    const mt = document.getElementById('music-text');
    if (!isPlaying) mt.textContent = "Victory BGM";
  }

  function triggerEasterEgg() {
    if (isEscaped) return;
    eggCount++;
    if (eggCount >= 5) {
      celebrateEscape();
      alert("ğŸ› ï¸ ê°œë°œì ì¹˜íŠ¸í‚¤ ë°œë™! íƒˆì¶œ ì„±ê³µ!");
    }
  }

  function shareLink() {
    const url = window.location.href;
    try {
      navigator.clipboard.writeText(url);
      alert("ë§í¬ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤! ì†”ë¡œ ì¹œêµ¬ë“¤ì—ê²Œ ì „íŒŒí•˜ì„¸ìš” ğŸ„");
    } catch(e) {
      const dummy = document.createElement("textarea");
      document.body.appendChild(dummy);
      dummy.value = url;
      dummy.select();
      document.execCommand("copy");
      document.body.removeChild(dummy);
      alert("ë§í¬ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤! ì†”ë¡œ ì¹œêµ¬ë“¤ì—ê²Œ ì „íŒŒí•˜ì„¸ìš” ğŸ„");
    }
  }

  // --- ëœë¤ ì¶”ì²œ ë°ì´í„° ---
  const activities = [
    "ğŸ• ì¹˜í‚¨+í”¼ì ì‹œí‚¤ê³  'ë‚˜í™€ë¡œ ì§‘ì—' ì •ì£¼í–‰", "ğŸ® ë°€ë¦° ê²Œì„ ì—”ë”© ë³¼ ë•Œê¹Œì§€ ëª» ì ", "ğŸ“š ë§Œí™”ì¹´í˜ ê°€ì„œ ì§œì¥ë¼ë©´ì— ë’¹êµ´ê¸°",
    "ğŸ’¤ 24ì‹œê°„ ë™ë©´ (ì¼ì–´ë‚˜ë©´ 26ì¼ì„)", "ğŸœ ëœ¨ëˆí•œ êµ­ë°¥ í•œ ê·¸ë¦‡ ë•Œë¦¬ê³  ì‚¬ìš°ë‚˜", "ğŸ§¹ ëŒ€ì²­ì†Œí•˜ê³  ìƒˆ ë§ˆìŒìœ¼ë¡œ ìƒˆí•´ ë§ì´í•˜ê¸°",
    "ğŸ° í¸ì˜ì  ì¼€ì´í¬ ì‚¬ì„œ í˜¼ì ë‹¤ í¼ë¨¹ê¸°", "ğŸ¬ í•´ë¦¬í¬í„° ì‹œë¦¬ì¦ˆ ì •ì£¼í–‰ (ë§ˆë²•ì‚¬ì˜ ê¸¸)", "ğŸ›ï¸ ë‚˜ì—ê²Œ ì£¼ëŠ” ì„ ë¬¼ ì‡¼í•‘ (í”Œë ‰ìŠ¤!)",
    "ğŸº í˜¼ìˆ í•˜ë©° ì˜›ë‚  ì˜ˆëŠ¥ í•˜ì´ë¼ì´íŠ¸ ë³´ê¸°", "ğŸ¤ ì½”ì¸ë…¸ë˜ë°© ê°€ì„œ 1ë§Œì›ì–´ì¹˜ ì§€ë¥´ê¸°", "ğŸƒâ€â™‚ï¸ ì•„ë¬´ë„ ì—†ëŠ” í—¬ìŠ¤ì¥ì—ì„œ í™©ì œ í—¬ìŠ¤",
    "ğŸ§© 1000í”¼ìŠ¤ ì§ì†Œ í¼ì¦ ë§ì¶”ê¸° ë„ì „", "ğŸ“± ìœ íŠœë¸Œ ì•Œê³ ë¦¬ì¦˜ íƒí—˜í•˜ë©° ì‹œê°„ ìˆœì‚­", "ğŸ³ ìœ íŠœë¸Œ ë³´ê³  ë°±ì¢…ì› ë ˆì‹œí”¼ ë”°ë¼í•˜ê¸°",
    "ğŸ›€ ê±°í’ˆ ì…ìš•ì œ ë„£ê³  ëœ¨ëˆí•œ ë°˜ì‹ ìš•", "âœï¸ ë‚´ë…„ ê³„íš ë‹¤ì´ì–´ë¦¬ì— ë„ì ì´ê¸°", "ğŸ« ëˆ„í…”ë¼ í•œ í†µ ìˆŸê°€ë½ìœ¼ë¡œ í¼ë¨¹ê¸°",
    "ğŸ° ë ˆê³  ì¡°ë¦½í•˜ë©° ë¬´ë…ë¬´ìƒ ì¦ê¸°ê¸°", "ğŸ± ê³ ì–‘ì´/ê°•ì•„ì§€ ì¸„ë¥´ ì£¼ë©° ì£¼ì¸ë‹˜ ëª¨ì‹œê¸°", "ğŸ¿ ë„·í”Œë¦­ìŠ¤ ë­í‚¹ 1ìœ„ë¶€í„° 5ìœ„ê¹Œì§€ ì •ë³µ"
  ];

  const quotes = [
    "ì‚°íƒ€í´ë¡œìŠ¤ë„ ì‚¬ì‹¤ ë…ê±°ë…¸ì¸ì´ë‹¤.", "ì»¤í”Œì€ ëª…ì ˆì— í—¤ì–´ì§€ì§€ë§Œ, ì†”ë¡œëŠ” ì˜ì›í•˜ë‹¤.", "ëˆ êµ³ì—ˆë‹¤. ê·¸ ëˆìœ¼ë¡œ ì¹˜í‚¨ ë‘ ë§ˆë¦¬ ë¨¹ì.",
    "ì™¸ë¡œì›€ì€ ì§€ëŠ¥ì´ ë†’ë‹¤ëŠ” ì¦ê±°ë‹¤. (ì•„ë§ˆë„)", "ì˜ˆìˆ˜ë‹˜ë„ ì†”ë¡œì…¨ë‹¤. ìš°ë¦¬ëŠ” ì„±ì¸ì˜ ê¸¸ì„ ê±·ëŠ” ì¤‘.",
    "ì„¸ìƒì—ì„œ ì œì¼ ì™„ë²½í•œ íŒŒíŠ¸ë„ˆëŠ” ì „ê¸°ì¥íŒì´ë‹¤.", "ì†”ë¡œê°€ ì•„ë‹ˆë¼ 'ììœ ë¡œìš´ ì˜í˜¼'ì´ë¼ê³  ë¶ˆëŸ¬ë¼."
  ];

  function playRouletteSound(type) {
    if (!audioCtx) initAudio();
    if (audioCtx.state === 'suspended') audioCtx.resume();

    const now = audioCtx.currentTime;
    const osc = audioCtx.createOscillator();
    const gainNode = audioCtx.createGain();
    osc.connect(gainNode);
    gainNode.connect(audioCtx.destination);

    if (type === 'tick') {
      osc.type = 'triangle';
      osc.frequency.setValueAtTime(600, now);
      osc.frequency.exponentialRampToValueAtTime(100, now + 0.05);
      gainNode.gain.setValueAtTime(0.05, now);
      gainNode.gain.exponentialRampToValueAtTime(0.001, now + 0.05);
      osc.start(now); osc.stop(now + 0.05);
    } else {
      const osc2 = audioCtx.createOscillator();
      const gain2 = audioCtx.createGain();
      osc2.connect(gain2); gain2.connect(audioCtx.destination);

      osc.type = 'sine'; osc.frequency.setValueAtTime(523.25, now);
      gainNode.gain.setValueAtTime(0.15, now);
      gainNode.gain.exponentialRampToValueAtTime(0.001, now + 0.8);

      osc2.type = 'sine'; osc2.frequency.setValueAtTime(659.25, now + 0.08);
      gain2.gain.setValueAtTime(0.15, now + 0.08);
      gain2.gain.exponentialRampToValueAtTime(0.001, now + 0.88);

      osc.start(now); osc.stop(now + 0.8);
      osc2.start(now + 0.08); osc2.stop(now + 0.88);
    }
  }

  function spinRoulette() {
    if (isSpinning) return;
    isSpinning = true;

    if (!audioCtx) initAudio();
    if (audioCtx.state === 'suspended') audioCtx.resume();

    const display = document.getElementById('activity-text');
    let count = 0;
    const maxCount = 20;
    const speed = 50;

    const interval = setInterval(() => {
      const randomIdx = Math.floor(Math.random() * activities.length);
      display.innerText = activities[randomIdx];
      playRouletteSound('tick');
      count++;

      if (count >= maxCount) {
        clearInterval(interval);
        isSpinning = false;

        playRouletteSound('win');
        display.style.setProperty('color', '#ef4444', 'important');
        setTimeout(() => display.style.setProperty('color', '#1e293b', 'important'), 300);

        const quoteIdx = Math.floor(Math.random() * quotes.length);
        document.getElementById('quote-text').innerText = quotes[quoteIdx];
      }
    }, speed);
  }

  // --- DOM ì—°ê²° (ì¤‘ìš”: í‹°ìŠ¤í† ë¦¬ì—ì„œ ë¡œë”© íƒ€ì´ë° ë¬¸ì œ ë°©ì§€) ---
  document.addEventListener('DOMContentLoaded', () => {
    lucide.createIcons();
    createParticles();
    updateCountdown();
    setInterval(updateCountdown, 1000);

    document.getElementById('roulette-btn').addEventListener('click', spinRoulette);
    document.getElementById('share-btn').addEventListener('click', shareLink);
    document.getElementById('music-btn').addEventListener('click', toggleMusic);
    document.getElementById('egg-target').addEventListener('click', triggerEasterEgg);
  });
})();
</script>

